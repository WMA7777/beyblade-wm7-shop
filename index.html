<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <!-- Optimisation SEO -->
  <meta name="description" content="Boutique Beyblade Interactive et Communautaire. La plateforme ultime pour acheter, personnaliser et vivre l’univers Beyblade.">
  <meta name="keywords" content="Beyblade, toupie, boutique, personnalisation, combat, AR, VR, communauté">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.votresite-beyblade.com/">
  
  <!-- Open Graph pour partage sur réseaux sociaux -->
  <meta property="og:title" content="Boutique Beyblade Interactive et Communautaire">
  <meta property="og:description" content="La plateforme ultime pour les passionnés de Beyblade : produits personnalisables, combats en live, et une communauté engagée.">
  <meta property="og:image" content="https://source.unsplash.com/1200x500/?beyblade">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.votresite-beyblade.com/">
  
  <!-- JSON-LD pour Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Store",
    "name": "Boutique Beyblade Interactive et Communautaire",
    "description": "La plateforme ultime pour personnaliser et combattre avec vos toupies Beyblade.",
    "url": "https://www.votresite-beyblade.com/",
    "logo": "https://source.unsplash.com/200x200/?beyblade",
    "sameAs": [
      "https://www.facebook.com/votresitebeyblade",
      "https://www.twitter.com/votresitebeyblade",
      "https://www.instagram.com/votresitebeyblade"
    ]
  }
  </script>
  
  <!-- Google Analytics (remplacez UA-XXXXXX-X par votre identifiant) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXX-X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-XXXXXX-X');
  </script>
  
  <title>Boutique Beyblade Interactive et Communautaire – Prototype Ultimate</title>
  
  <!-- Manifest for PWA -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
  
  <!-- Bootstrap CSS & Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  
  <!-- A-Frame & AR.js -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  
  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  
  <!-- Phaser.js -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
  
  <!-- GSAP et ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <style>
    /* ----- Variables CSS ----- */
    :root {
      --primary-color: #1f1f1f;
      --secondary-color: #e63946;
      --accent-color: #457b9d;
      --background-color: #f3f3f3;
      --text-color: #333333;
      --light-color: #ffffff;
    }
    .dark-mode {
      --primary-color: #121212;
      --secondary-color: #ff6f61;
      --accent-color: #90caf9;
      --background-color: #1e1e1e;
      --text-color: #e0e0e0;
      --light-color: #f5f5f5;
    }
    
    /* ----- Global ----- */
    body {
      font-family: 'Montserrat', sans-serif;
      color: var(--text-color);
      background-color: var(--background-color);
      scroll-behavior: smooth;
      padding-top: 70px; /* Pour laisser la place à la navbar fixe */
    }
    
    /* ----- Navbar ----- */
    nav[role="navigation"] {
      background-color: var(--primary-color);
      box-shadow: 0px 2px 6px rgba(0,0,0,0.3);
      transition: background-color 0.3s;
    }
    .navbar a, .navbar .dropdown-item {
      color: var(--light-color);
      transition: color 0.3s;
    }
    .navbar a:hover, .navbar .dropdown-item:hover {
      color: var(--secondary-color);
    }
    #darkModeToggle, #immersiveToggle {
      border: none;
      background: none;
      color: var(--light-color);
      font-size: 1.2rem;
      cursor: pointer;
      margin-left: 15px;
    }
    
    /* ----- Hero / Carousel ----- */
    .hero {
      height: 500px;
      position: relative;
      overflow: hidden;
    }
    .carousel-item img {
      width: 100%;
      height: 500px;
      object-fit: cover;
      filter: brightness(0.75);
      loading: lazy;
    }
    .carousel-caption {
      text-shadow: 0 2px 4px rgba(0,0,0,0.8);
    }
    .carousel-caption h1 {
      font-size: 3rem;
      font-weight: bold;
    }
    
    /* ----- Cartes Produits ----- */
    .card {
      border: none;
      border-radius: 10px;
      box-shadow: 0px 2px 10px rgba(0,0,0,0.1);
      background-color: var(--light-color);
      transition: transform 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card-img-top {
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      height: 200px;
      object-fit: cover;
      loading: lazy;
    }
    
    /* ----- Boutons ----- */
    .btn {
      border-radius: 25px;
      transition: background-color 0.3s;
    }
    .btn:hover {
      opacity: 0.9;
    }
    
    /* ----- Sections ----- */
    section {
      padding: 60px 0;
    }
    section h2 {
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 40px;
    }
    
    /* ----- Modales ----- */
    .modal-content {
      border-radius: 10px;
    }
    
    /* ----- Footer ----- */
    footer {
      background-color: var(--primary-color);
      color: var(--light-color);
      padding: 40px 0;
      text-align: center;
    }
    
    /* ----- Bouton Chat Direct ----- */
    #chat-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1050;
      background: var(--secondary-color);
      color: var(--light-color);
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    
    /* ----- Modules additionnels ----- */
    .module {
      background: var(--light-color);
      padding: 30px;
      margin-bottom: 40px;
      border: 1px solid #ddd;
      border-radius: 10px;
    }
    
    /* ----- Realtime Stats ----- */
    #realtime-stats {
      font-size: 1.5rem;
      text-align: center;
      padding: 20px;
      background: var(--accent-color);
      color: var(--light-color);
      border-radius: 10px;
    }
    
    /* ----- Accessibilité & Formulaires ----- */
    input, textarea, select {
      border-radius: 5px;
    }
    
    /* ----- Immersive Mode (Exemple simplifié) ----- */
    .immersive-mode nav {
      display: none;
    }
  </style>
</head>
<body role="document">
  <!-- NAVIGATION -->
  <nav role="navigation" class="navbar navbar-expand-lg navbar-dark fixed-top" aria-label="Menu principal">
    <div class="container">
      <a class="navbar-brand" href="#">Boutique Beyblade</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Basculer la navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
          <!-- Liens essentiels -->
          <li class="nav-item"><a class="nav-link" href="#accueil">Accueil</a></li>
          <li class="nav-item"><a class="nav-link" href="#produits">Produits</a></li>
          <li class="nav-item"><a class="nav-link" href="#configurateur">Configurateur</a></li>
          <li class="nav-item"><a class="nav-link" href="#combat">Combat</a></li>
          <li class="nav-item"><a class="nav-link" href="#forum">Forum</a></li>
          <li class="nav-item"><a class="nav-link" href="#live-events">Live Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#social-feed">Social Feed</a></li>
          <li class="nav-item"><a class="nav-link" href="#defis-quotidiens">Défis</a></li>
          <li class="nav-item"><a class="nav-link" href="#multi-devises">Devises/Localisation</a></li>
          <li class="nav-item"><a class="nav-link" href="#nft-blockchain">NFT</a></li>
          <li class="nav-item"><a class="nav-link" href="#admin-dashboard">Dashboard</a></li>
        </ul>
        <form class="form-inline my-2 my-lg-0" role="search">
          <input id="search-input" class="form-control mr-sm-2" type="search" placeholder="Rechercher" aria-label="Recherche">
          <button type="button" class="btn btn-outline-light" id="voiceSearchBtn" data-toggle="tooltip" title="Recherche vocale">
            <i class="fas fa-microphone"></i>
          </button>
        </form>
        <button class="btn btn-outline-light my-2 my-sm-0 mr-2" data-toggle="modal" data-target="#cartModal" data-toggle="tooltip" title="Voir le panier">
          <i class="fas fa-shopping-cart"></i> <span id="cart-count" class="badge badge-light">0</span>
        </button>
        <div class="dropdown">
          <button class="btn btn-outline-light dropdown-toggle" id="accountDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Mon Compte
          </button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#loginModal">Connexion</a>
            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#registerModal">Inscription</a>
          </div>
        </div>
        <button id="darkModeToggle" title="Basculer en mode sombre" data-toggle="tooltip" aria-label="Toggle mode sombre">
          <i class="fas fa-moon"></i>
        </button>
        <button id="immersiveToggle" title="Mode immersion" data-toggle="tooltip" aria-label="Toggle immersive mode">
          <i class="fas fa-layer-group"></i>
        </button>
        <button class="btn btn-outline-light ml-2" data-toggle="modal" data-target="#themeModal" title="Personnaliser le thème" data-toggle="tooltip">
          <i class="fas fa-paint-brush"></i>
        </button>
        <div class="dropdown ml-2">
          <button class="btn btn-outline-light dropdown-toggle" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Langue
          </button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#">Français</a>
            <a class="dropdown-item" href="#">English</a>
            <a class="dropdown-item" href="#">Español</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
  
  <!-- HEADER / HERO -->
  <header id="accueil">
    <div id="heroCarousel" class="carousel slide hero" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#heroCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#heroCarousel" data-slide-to="1"></li>
        <li data-target="#heroCarousel" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://source.unsplash.com/1200x500/?beyblade" alt="Beyblade en Action">
          <div class="carousel-caption d-none d-md-block">
            <h1>Beyblade en Action</h1>
            <p>Des batailles épiques à vivre !</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://source.unsplash.com/1200x500/?beyblade,combat" alt="Combat Beyblade">
          <div class="carousel-caption d-none d-md-block">
            <h1>Force et Précision</h1>
            <p>Choisissez votre champion.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://source.unsplash.com/1200x500/?beyblade,custom" alt="Beyblade Personnalisé">
          <div class="carousel-caption d-none d-md-block">
            <h1>Personnalisation Totale</h1>
            <p>Créez votre toupie unique.</p>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      </a>
      <a class="carousel-control-next" href="#heroCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
      </a>
    </div>
  </header>
  
  <!-- SECTION PRODUITS -->
  <section id="produits">
    <div class="container">
      <h2>Nos Produits</h2>
      <div class="row" id="product-container">
        <div class="col-md-4 product" data-title="Beyblade Burst">
          <div class="card" data-toggle="tooltip" data-placement="top" title="Cliquez pour plus de détails">
            <img src="https://source.unsplash.com/350x200/?beyblade+burst" class="card-img-top" alt="Beyblade Burst" loading="lazy">
            <div class="card-body">
              <h5 class="card-title">Toupie Beyblade Burst</h5>
              <p class="card-text">Idéale pour des combats rapides.</p>
              <p><strong>Prix : 29,99 €</strong></p>
              <button class="btn btn-success add-to-cart" data-id="1" data-title="Toupie Beyblade Burst" data-price="29.99">Acheter</button>
              <div class="mt-2">
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Facebook"><i class="fab fa-facebook-f"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Twitter"><i class="fab fa-twitter"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Instagram"><i class="fab fa-instagram"></i></button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4 product" data-title="Beyblade Metal Fusion">
          <div class="card" data-toggle="tooltip" data-placement="top" title="Cliquez pour plus de détails">
            <img src="https://source.unsplash.com/350x200/?beyblade+metal+fusion" class="card-img-top" alt="Beyblade Metal Fusion" loading="lazy">
            <div class="card-body">
              <h5 class="card-title">Toupie Beyblade Metal Fusion</h5>
              <p class="card-text">Puissante et robuste.</p>
              <p><strong>Prix : 39,99 €</strong></p>
              <button class="btn btn-success add-to-cart" data-id="2" data-title="Toupie Beyblade Metal Fusion" data-price="39.99">Acheter</button>
              <div class="mt-2">
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Facebook"><i class="fab fa-facebook-f"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Twitter"><i class="fab fa-twitter"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager sur Instagram"><i class="fab fa-instagram"></i></button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4 product" data-title="Beyblade Metal Masters">
          <div class="card" data-toggle="tooltip" data-placement="top" title="Cliquez pour plus de détails">
            <img src="https://source.unsplash.com/350x200/?beyblade+metal+masters" class="card-img-top" alt="Beyblade Metal Masters" loading="lazy">
            <div class="card-body">
              <h5 class="card-title">Toupie Beyblade Metal Masters</h5>
              <p class="card-text">La référence des champions.</p>
              <p><strong>Prix : 49,99 €</strong></p>
              <button class="btn btn-success add-to-cart" data-id="3" data-title="Toupie Beyblade Metal Masters" data-price="49.99">Acheter</button>
              <div class="mt-2">
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager"><i class="fab fa-facebook-f"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager"><i class="fab fa-twitter"></i></button>
                <button class="btn btn-sm btn-outline-secondary" data-toggle="tooltip" title="Partager"><i class="fab fa-instagram"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- SECTION : FORUM COMMUNAUTAIRE -->
  <section id="forum" class="module">
    <div class="container">
      <h2>Forum Communautaire</h2>
      <p>Discutez, partagez et échangez sur l’univers Beyblade :</p>
      <form id="forum-form">
        <div class="form-group">
          <input type="text" class="form-control" id="forum-name" placeholder="Votre nom" required>
        </div>
        <div class="form-group">
          <textarea class="form-control" id="forum-message" rows="3" placeholder="Votre message" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Publier</button>
      </form>
      <div id="forum-posts" class="mt-4"></div>
    </div>
  </section>
  
  <!-- SECTION : LIVE EVENTS INTERACTIFS -->
  <section id="live-events" class="module">
    <div class="container">
      <h2>Live Events Interactifs</h2>
      <p>Participez aux compétitions et ateliers en direct :</p>
      <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/live_stream?channel=UC4R8DWoMoI7CAwX8_LjQHig" allowfullscreen></iframe>
      </div>
      <button class="btn btn-warning mt-3" onclick="alert('Live Event interactif en développement !')">Participer au Live</button>
    </div>
  </section>
  
  <!-- SECTION : DÉFIS QUOTIDIENS GAMIFIÉS -->
  <section id="defis-quotidiens" class="module">
    <div class="container">
      <h2>Défis Quotidiens Gamifiés</h2>
      <ul class="list-group">
        <li class="list-group-item">Défi 1 : Personnalisez et partagez votre toupie.</li>
        <li class="list-group-item">Défi 2 : Gagnez un duel dans le simulateur de combat.</li>
        <li class="list-group-item">Défi 3 : Laissez un avis pour gagner des points bonus.</li>
      </ul>
      <button class="btn btn-primary mt-3" onclick="alert('Défis validés, bonus points attribués !')">Valider Défis</button>
    </div>
  </section>
  
  <!-- SECTION : SOCIAL FEED -->
  <section id="social-feed" class="module">
    <div class="container">
      <h2>Social Feed</h2>
      <p>Partagez vos expériences et consultez celles de la communauté :</p>
      <form id="social-feed-form">
        <div class="form-group">
          <input type="text" class="form-control" id="social-name" placeholder="Votre nom" required>
        </div>
        <div class="form-group">
          <textarea class="form-control" id="social-post" rows="2" placeholder="Partagez votre expérience" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Publier</button>
      </form>
      <div id="social-feed-posts" class="mt-4"></div>
    </div>
  </section>
  
  <!-- SECTION : MULTI-DEVISES ET LOCALISATION -->
  <section id="multi-devises" class="module">
    <div class="container">
      <h2>Multi-Devises et Localisation</h2>
      <div class="row">
        <div class="col-md-6">
          <label for="currency-select">Devise :</label>
          <select class="form-control" id="currency-select">
            <option value="EUR">EUR (€)</option>
            <option value="USD">USD ($)</option>
            <option value="GBP">GBP (£)</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="location-select">Localisation :</label>
          <select class="form-control" id="location-select">
            <option value="FR">France</option>
            <option value="US">États-Unis</option>
            <option value="UK">Royaume-Uni</option>
          </select>
        </div>
      </div>
      <button class="btn btn-primary mt-3" onclick="alert('Paramètres mis à jour !')">Appliquer</button>
    </div>
  </section>
  
  <!-- SECTION : NFT & BLOCKCHAIN AVANCÉS -->
  <section id="nft-blockchain" class="module bg-dark text-white">
    <div class="container">
      <h2>NFT & Blockchain Avancés</h2>
      <p>Découvrez nos éditions numériques exclusives certifiées par blockchain.</p>
      <button class="btn btn-warning" onclick="alert('Achat NFT simulé !')">Acheter NFT Exclusif</button>
    </div>
  </section>
  
  <!-- SECTION : ADMIN DASHBOARD -->
  <section id="admin-dashboard" class="module">
    <div class="container">
      <h2>Tableau de Bord Administratif Enrichi</h2>
      <canvas id="adminChart" width="400" height="150"></canvas>
    </div>
  </section>
  
  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Boutique Beyblade Interactive et Communautaire. Tous droits réservés.</p>
      <p><a href="mailto:contact@boutiquebeyblade.fr" style="color: var(--light-color); text-decoration: underline;">contact@boutiquebeyblade.fr</a></p>
      <div class="mt-3">
        <h5>Abonnez-vous à notre newsletter</h5>
        <form class="form-inline justify-content-center">
          <div class="form-group mb-2">
            <label for="newsletter-email" class="sr-only">Email</label>
            <input type="email" class="form-control" id="newsletter-email" placeholder="Votre email">
          </div>
          <button type="submit" class="btn btn-primary mb-2 ml-2">S'abonner</button>
        </form>
      </div>
    </div>
  </footer>
  
  <!-- Bouton Chat Direct -->
  <button id="chat-button" onclick="$('#chatModal').modal('show')">
    <i class="fas fa-comments"></i>
  </button>
  
  <!-- MODALE : PERSONNALISATION DU THÈME -->
  <div class="modal fade" id="themeModal" tabindex="-1" aria-labelledby="themeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="themeModalLabel">Personnalisation du Thème</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="theme-form">
            <div class="form-group">
              <label for="primary-color-picker">Couleur Principale</label>
              <input type="color" class="form-control" id="primary-color-picker" value="#1f1f1f">
            </div>
            <div class="form-group">
              <label for="secondary-color-picker">Couleur Secondaire</label>
              <input type="color" class="form-control" id="secondary-color-picker" value="#e63946">
            </div>
            <div class="form-group">
              <label for="accent-color-picker">Couleur Accent</label>
              <input type="color" class="form-control" id="accent-color-picker" value="#457b9d">
            </div>
            <button type="submit" class="btn btn-primary">Appliquer</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  
  <!-- MODALES EXISTANTES : CHAT, PANIER, CONNEXION, INSCRIPTION, PAIEMENT -->
  <!-- Modale Chat -->
  <div class="modal fade" id="chatModal" tabindex="-1" aria-labelledby="chatModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="chatModalLabel">Chat en Direct</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="max-height:400px; overflow-y:auto;" id="chat-box">
          <div class="text-center text-muted">Démarrez la conversation...</div>
        </div>
        <div class="modal-footer">
          <input type="text" id="chat-input" class="form-control" placeholder="Votre message" aria-label="Saisir votre message">
          <button class="btn btn-success" onclick="sendMessage()">Envoyer</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modale Panier -->
  <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cartModalLabel">Votre Panier</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Produit</th>
                <th>Prix (€)</th>
                <th>Quantité</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="cart-items">
              <tr>
                <td colspan="4" class="text-center">Votre panier est vide</td>
              </tr>
            </tbody>
          </table>
          <div class="text-right">
            <h5>Total: <span id="cart-total">0.00</span> €</h5>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-dismiss="modal">Continuer vos achats</button>
          <button class="btn btn-primary" id="checkout-btn">Commander</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modale Connexion -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="login-form">
          <div class="modal-header">
            <h5 class="modal-title" id="loginModalLabel">Connexion</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="login-email">Email</label>
              <input type="email" class="form-control" id="login-email" required aria-label="Email">
            </div>
            <div class="form-group">
              <label for="login-password">Mot de passe</label>
              <input type="password" class="form-control" id="login-password" required aria-label="Mot de passe">
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Se connecter</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  
  <!-- Modale Inscription -->
  <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="register-form">
          <div class="modal-header">
            <h5 class="modal-title" id="registerModalLabel">Inscription</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="register-name">Nom</label>
              <input type="text" class="form-control" id="register-name" required aria-label="Nom">
            </div>
            <div class="form-group">
              <label for="register-email">Email</label>
              <input type="email" class="form-control" id="register-email" required aria-label="Email">
            </div>
            <div class="form-group">
              <label for="register-password">Mot de passe</label>
              <input type="password" class="form-control" id="register-password" required aria-label="Mot de passe">
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">S'inscrire</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  
  <!-- Modale Paiement -->
  <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="paymentModalLabel">Paiement Sécurisé</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Ceci est une simulation de passerelle de paiement. Intégrez ici une solution sécurisée (Stripe, PayPal, etc.) et assurez-vous que toutes les transactions soient réalisées via HTTPS.</p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-success" data-dismiss="modal">Valider et payer</button>
          </div>
      </div>
    </div>
  </div>
  
  <!-- Inclusions JS : jQuery & Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- SCRIPT JAVASCRIPT -->
  <script>
    // Initialisation des tooltips Bootstrap
    $(function () {
      $('[data-toggle="tooltip"]').tooltip();
    });
    
    /* ---------- Mode sombre ---------- */
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      darkModeToggle.innerHTML = document.body.classList.contains('dark-mode')
        ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    });
    
    /* ---------- Immersive Mode ---------- */
    const immersiveToggle = document.getElementById('immersiveToggle');
    immersiveToggle.addEventListener('click', () => {
      document.body.classList.toggle('immersive-mode');
      immersiveToggle.classList.toggle('active');
      gsap.to("header, section", {duration: 0.5, padding: document.body.classList.contains('immersive-mode') ? "20px 0" : "60px 0"});
    });
    
    /* ---------- Personnalisation du Thème ---------- */
    const themeForm = document.getElementById('theme-form');
    themeForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const primary = document.getElementById('primary-color-picker').value;
      const secondary = document.getElementById('secondary-color-picker').value;
      const accent = document.getElementById('accent-color-picker').value;
      document.documentElement.style.setProperty('--primary-color', primary);
      document.documentElement.style.setProperty('--secondary-color', secondary);
      document.documentElement.style.setProperty('--accent-color', accent);
      alert("Thème mis à jour !");
      $('#themeModal').modal('hide');
    });
    
    /* ---------- Gestion du Panier ---------- */
    var cart = [];
    function addToCart(product) {
      let found = cart.find(item => item.id === product.id);
      if(found) { found.quantity++; }
      else { product.quantity = 1; cart.push(product); }
      updateCartDisplay();
      updateLoyaltyPoints(10);
      showNotification("Produit ajouté", "Votre toupie a été ajoutée au panier !");
      $('#cartModal').modal('show');
    }
    function updateCartDisplay() {
      const cartItemsContainer = document.getElementById('cart-items');
      let total = 0;
      cartItemsContainer.innerHTML = '';
      if(cart.length === 0) {
        cartItemsContainer.innerHTML = '<tr><td colspan="4" class="text-center">Votre panier est vide</td></tr>';
      } else {
        cart.forEach((item, index) => {
          total += parseFloat(item.price) * item.quantity;
          cartItemsContainer.innerHTML += `<tr>
            <td>${item.title}</td>
            <td>${parseFloat(item.price).toFixed(2)}</td>
            <td>${item.quantity}</td>
            <td><button class="btn btn-danger btn-sm" onclick="removeFromCart(${index})">Supprimer</button></td>
          </tr>`;
        });
      }
      document.getElementById('cart-total').textContent = total.toFixed(2);
      document.getElementById('cart-count').textContent = cart.reduce((acc, item) => acc + item.quantity, 0);
    }
    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCartDisplay();
    }
    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', function() {
        const product = {
          id: this.getAttribute('data-id'),
          title: this.getAttribute('data-title'),
          price: this.getAttribute('data-price')
        };
        addToCart(product);
      });
    });
    document.getElementById('checkout-btn').addEventListener('click', function() {
      $('#paymentModal').modal('show');
    });
    
    /* ---------- Configurateur Three.js ---------- */
    let scene, camera, renderer, cube;
    function initThree() {
      const canvas = document.getElementById('configCanvas');
      renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
      renderer.setSize(canvas.clientWidth, canvas.clientHeight);
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, canvas.clientWidth/canvas.clientHeight, 0.1, 1000);
      camera.position.z = 2;
      const geometry = new THREE.BoxGeometry();
      const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
      cube = new THREE.Mesh(geometry, material);
      scene.add(cube);
      animateThree();
    }
    function animateThree() {
      requestAnimationFrame(animateThree);
      cube.rotation.x += 0.01;
      cube.rotation.y += 0.01;
      renderer.render(scene, camera);
    }
    function changeCubeColor(color) {
      if(cube) cube.material.color.set(color);
    }
    function changeCubeSize(scale) {
      if(cube) cube.scale.set(scale, scale, scale);
    }
    window.addEventListener('load', initThree);
    
    /* ---------- Simulateur de Combat (Phaser) ---------- */
    var phaserGame;
    const phaserConfig = {
      type: Phaser.AUTO,
      width: 800,
      height: 400,
      parent: 'combatGame',
      physics: { default: 'arcade' },
      scene: {
        preload: phaserPreload,
        create: phaserCreate,
        update: phaserUpdate
      }
    };
    function phaserPreload() {
      this.load.image('bey1', 'https://source.unsplash.com/100x100/?beyblade,1');
      this.load.image('bey2', 'https://source.unsplash.com/100x100/?beyblade,2');
    }
    function phaserCreate() {
      this.physics.world.setBounds(0, 0, 800, 400);
      this.bey1 = this.physics.add.sprite(100, 200, 'bey1');
      this.bey2 = this.physics.add.sprite(700, 200, 'bey2');
      this.tweens.add({
        targets: this.bey1,
        x: 400,
        duration: 2000,
        yoyo: true,
        repeat: -1,
        ease: 'Sine.easeInOut'
      });
      this.tweens.add({
        targets: this.bey2,
        x: 400,
        duration: 2000,
        yoyo: true,
        repeat: -1,
        ease: 'Sine.easeInOut'
      });
    }
    function phaserUpdate() {}
    function startCombat() {
      if(!phaserGame) phaserGame = new Phaser.Game(phaserConfig);
    }
    
    /* ---------- Chat en Direct ---------- */
    function sendMessage() {
      const input = document.getElementById('chat-input');
      const message = input.value;
      if(message.trim() !== "") {
        const chatBox = document.getElementById('chat-box');
        const userMsg = document.createElement('div');
        userMsg.textContent = message;
        userMsg.className = "chat-message text-right mb-2";
        chatBox.appendChild(userMsg);
        input.value = "";
        chatBox.scrollTop = chatBox.scrollHeight;
        setTimeout(() => {
          const botMsg = document.createElement('div');
          botMsg.textContent = "Chatbot : Bonjour, comment puis-je vous aider ?";
          botMsg.className = "chat-message text-left mb-2 text-info";
          chatBox.appendChild(botMsg);
          chatBox.scrollTop = chatBox.scrollHeight;
        }, 1000);
      }
    }
    
    /* ---------- Recherches Vocales ---------- */
    const voiceBtn = document.getElementById('voiceSearchBtn');
    voiceBtn.addEventListener('click', () => {
      if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition = new SpeechRecognition();
        recognition.lang = 'fr-FR';
        recognition.onresult = (event) => {
          let transcript = event.results[0][0].transcript;
          document.getElementById('voice-result').textContent = "Vous avez dit : " + transcript;
          // Lancer ici une recherche ou filtrer vos produits avec "transcript"
        };
        recognition.start();
      } else {
        alert("La reconnaissance vocale n'est pas supportée par votre navigateur.");
      }
    });
    
    /* ---------- Realtime Stats ---------- */
    function updateRealtimeStats() {
      let visitors = Math.floor(Math.random() * 100) + 1;
      document.getElementById('visitor-count').textContent = "Visiteurs en direct : " + visitors;
    }
    setInterval(updateRealtimeStats, 5000);
    
    /* ---------- Admin Dashboard (Chart.js) ---------- */
    function initAdminChart() {
      const ctx = document.getElementById('adminChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels
